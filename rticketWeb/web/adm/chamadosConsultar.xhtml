<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>RTicket - Novo Chamado</title>
        <link rel="shortcut icon" href="img/HelpDeskImage.ico" ></link>
    </h:head>
    <h:body>
        <f:view>           
            <ui:include src="cabecalhoAdm.xhtml" /><br /><br />
            <h:form class="formulario">
                <p:button outcome="chamadosAlterar" value="Editar" icon="ui-icon-pencil">
                    <f:param name="chamadosIdEdit" value="#{chamadosBean.idChamado}" />
                </p:button>
                <br /><br /><br />   
                
                <f:metadata>
                    <f:viewParam name="chamadoId" value="#{chamadosBean.idChamado}" />                   
                </f:metadata>              
                
                <p:layoutUnit position="center">
                    <br />
                    <div class="numeroChamado">
                        <p:outputLabel id="tipo" value="#{chamadosBean.tipoChamado}" />
                        <p:outputLabel for="tipo" value=" #" />
                        <p:outputLabel id="id" value="#{chamadosBean.idChamado}" /><br /><br />                   
                    </div> 
                    <p:outputLabel for="titulo" value="Titulo: " />
                    <p:outputLabel id="titulo" value="#{chamadosBean.titulo}" /><br /><br /><br />
                    
                    <p:outputLabel for="status" value="Situação: " />
                    <p:outputLabel id="status" value="#{chamadosBean.statusChamado}" /><br /><br />
                    
                    <p:outputLabel for="atribuidoPara" value="Atribuido Para: " />
                    <p:outputLabel id="atribuidoPara" value="#{chamadosBean.usuarioAtendente}" /><br /><br />
                    
                    <p:outputLabel for="criadoEm" value="Criado Em: " />
                    <p:outputLabel id="criadoEm" value="#{chamadosBean.criadoEm}" /><br /><br />
                    
                    <p:outputLabel for="fechadoEm" value="Fechado Em: " />
                    <p:outputLabel id="fechadoEm" value="#{chamadosBean.fechadoEm}" /><br /><br />
                    
                    <p:outputLabel for="resposta" value="Resposta HelpDesk: " />
                    <p:outputLabel id="resposta" value="#{chamadosBean.resposta}" /><br /><br />
                    
                    <p:outputLabel for="nota" value="Nota Atendimento: " />
                    <p:outputLabel id="nota" value="#{chamadosBean.avaliacao}" /><br /><br />
                    
                    <hr></hr><br />
                    
                    <p:outputLabel for="descricao" value="Descrição: " />
                    <p:outputLabel id="descricao" value="#{chamadosBean.descricao}" /><br /><br />
                </p:layoutUnit>
                <br />
                <p:dataScroller value="#{chamadosBean.listarLogChamados}" var="log" chunkSize="10">
                    <f:facet name="header">
                        Logs
                    </f:facet>
                    <h:panelGrid columns="2" style="width:100%" columnClasses="logo,detail">
                        <p:outputPanel>
                            <h:panelGrid columns="2" cellpadding="5">
                                <h:outputText value="Acao: " />
                                <h:outputText value="#{log.acao}" style="font-weight: bold"/>

                                <h:outputText value="Historico: " />
                                <h:outputText value="#{log.historico}" style="font-weight: bold"/>

                                <h:outputText value="Usuario: " />
                                <h:outputText value="#{log.usuarios.nome}" style="font-weight: bold"/>
                            </h:panelGrid>
                        </p:outputPanel>                      
                    </h:panelGrid>
                    <hr></hr>
                </p:dataScroller>
            </h:form>
        </f:view>         
    </h:body>
</html>

